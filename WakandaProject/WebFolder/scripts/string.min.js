(({define:typeof define=="function"?define:function(a,b){var c=b.apply(null,a.map(require));Object.keys(c).forEach(function(a){exports[a]=c[a]})}})).define([],function(){"use strict";function e(){var a,b=g();for(a in b)(function(a){var d=c[a];typeof d=="function"&&(j.prototype[a]||(b[a]==="string"?j.prototype[a]=function(){return new this.constructor(d.apply(this.s,arguments))}:j.prototype[a]=d))})(a)}function f(b){return typeof b=="string"&&a.hasOwnProperty(b)?b:a.INSENSITIVE}function g(){var a,b,d,e=h(),f={},g;for(b=0;b<e.length;++b){d=e[b],a=c[d];try{g=typeof a.apply("teststring",[]),f[d]=g}catch(i){}}return f}function h(){var a,b,d=[],e;if(Object.getOwnPropertyNames)return d=Object.getOwnPropertyNames(c),d.splice(d.indexOf("valueOf"),1),d.splice(d.indexOf("toString"),1),d;e={},b=[];for(a in String.prototype)e[a]=a;for(a in Object.prototype)delete e[a];for(a in e)d.push(a);return d}function i(a,b){b!==null&&b!==undefined?typeof b=="string"?a.s=b:a.s=b.toString():a.s=b,b!==null&&b!==undefined?a.__defineGetter__?a.__defineGetter__("length",function(){return a.s.length}):a.length=b.length:a.length=-1}function j(a){i(this,a)}var a,b,c=String.prototype,d;return a={INSENSITIVE:"INSENSITIVE",SENSITIVE:"SENSITIVE"},Object.freeze(a),b=function(b){return new j(b)},j.prototype.between=function(c,d,e){e=f(e);var g=this.s;e===a.INSENSITIVE&&(g=g.toUpperCase(),c=c.toUpperCase(),d=d.toUpperCase());var h=g.indexOf(c),i=g.indexOf(d),j=h+c.length;return new this.constructor(i>h?this.s.slice(j,i):"")},j.prototype.capitalize=function(){return new this.constructor(this.s.substr(0,1).toUpperCase()+this.s.substring(1).toLowerCase())},j.prototype.chompLeft=function(c,d){d=f(d);var e=this.s;return d===a.INSENSITIVE&&(e=e.toUpperCase(),c=c.toUpperCase()),e.indexOf(c)===0?(e=this.s.slice(c.length),new this.constructor(e)):this},j.prototype.chompRight=function(b,c){if(this.endsWith(b,c)){var d=this.s;return d=d.slice(0,d.length-b.length),new this.constructor(d)}return this},j.prototype.collapseWhitespace=function(){var b=this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");return new this.constructor(b)},j.prototype.compareTo=function(c,d){var e,g;d=f(d);if(this.s===null){if(c===null)return 0;throw new Error("Cannot compare null to non-null value.")}if(typeof this.s=="undefined"||typeof c=="undefined")throw new Error("Cannot compare undefined values.");return e=this.toString(),g=c.toString(),d===a.INSENSITIVE&&(e=e.toUpperCase(),g=g.toUpperCase()),e===g?0:e>g?1:-1},j.prototype.contains=function(c,d){var e=this.s;return d=f(d),d===a.INSENSITIVE&&(e=e.toUpperCase(),c=c.toUpperCase()),e.indexOf(c)>=0},j.prototype.count=function k(b,c){c=f(c);var d=this.s,k=0;c===a.INSENSITIVE&&(d=d.toUpperCase(),b=b.toUpperCase());var e=d.indexOf(b);while(e>=0)k+=1,e=d.indexOf(b,e+1);return k},j.prototype.dasherize=function(){var b=this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return new this.constructor(b)},j.prototype.endsWith=function(c,d){d=f(d);var e=this.s;d===a.INSENSITIVE&&(e=e.toUpperCase(),c=c.toUpperCase());var g=e.length-c.length;return g>=0&&e.indexOf(c,g)===g},j.prototype.ensureLeft=function(b,c){var d=this.s;return this.startsWith(b,c)?this:new this.constructor(b+d)},j.prototype.ensureRight=function(b,c){var d=this.s;return this.endsWith(b,c)?this:new this.constructor(d+b)},j.prototype.indexOf=function(c,d,e){d=f(d);var g=this.s;return d===a.SENSITIVE?g.indexOf(c,e):g.toUpperCase().indexOf(c.toUpperCase(),e)},j.prototype.isAlpha=function(){return!/[^a-z\xC0-\xFF]/.test(this.s.toLowerCase())},j.prototype.isAlphaNumeric=function(){return!/[^0-9a-z\xC0-\xFF]/.test(this.s.toLowerCase())},j.prototype.isEmpty=function(){return this.s===null||this.s===undefined?!0:/^[\s\xa0]*$/.test(this.s)},j.prototype.isEqualTo=function(c,d){return d=f(d),this.s===null?c===null:typeof this.s=="undefined"?typeof c=="undefined":c===null||typeof c=="undefined"?!1:d===a.SENSITIVE?this.toString()===c.toString():this.toString().toUpperCase()===c.toString().toUpperCase()},j.prototype.isLower=function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},j.prototype.isNumeric=function(){return!/[^0-9]/.test(this.s)},j.prototype.isUpper=function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},j.prototype.lastIndexOf=function(c,d,e){d=f(d);var g=this.s;return d===a.SENSITIVE?g.lastIndexOf(c,e):g.toUpperCase().lastIndexOf(c.toUpperCase(),e)},j.prototype.left=function(b){if(b>=0){var c=this.s.substr(0,b);return new this.constructor(c)}return this.right(-b)},j.prototype.lines=function(){return this.newlinesToUnix().s.split("\n")},j.prototype.newlinesToUnix=function(){return this.replace(/(\r\n|\r|\n)/g,"\n",a.SENSITIVE)},j.prototype.orPlural=function(b,c,d){return c=c||"s",b===1?this:d?new this.constructor(d.toString()):new this.constructor(this.toString()+c.toString())},j.prototype.pad=function(b,c){c=c||" ";if(this.s.length>=b)return new this.constructor(this.s);b-=this.s.length;var d=Array(Math.ceil(b/2)+1).join(c),e=Array(Math.floor(b/2)+1).join(c);return new this.constructor(d+this.s+e)},j.prototype.padLeft=function(b,c){return c=c||" ",this.s.length>=b?new this.constructor(this.s):new this.constructor(Array(b-this.s.length+1).join(c)+this.s)},j.prototype.padRight=function(b,c){return c=c||" ",this.s.length>=b?new this.constructor(this.s):new this.constructor(this.s+Array(b-this.s.length+1).join(c))},j.prototype.parenthesize=function(){return this.wrap("(",")")},j.prototype.quote=function(){return this.surround('"')},j.prototype.repeat=function(b){return new this.constructor((new Array(b+1)).join(this.s))},j.prototype.replace=function(c,d,e){e=f(e);var g=this.s;return e===a.SENSITIVE?new this.constructor(this.s.replace(c,d)):(g=g.replace(new RegExp(c.toString().replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),"i"),d.toString().replace(/\$/g,"$$$$")),new this.constructor(g))},j.prototype.replaceAll=function(c,d,e){e=f(e);var g=this.s;return e===a.SENSITIVE?new this.constructor(g.split(c).join(d)):(g=g.replace(new RegExp(c.toString().replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),"gi"),d.toString().replace(/\$/g,"$$$$")),new this.constructor(g))},j.prototype.right=function(b){if(b>=0){var c=this.s.substr(this.s.length-b,b);return new this.constructor(c)}return this.left(-b)},j.prototype.setValue=function(b){return i(this,b),this},j.prototype.slugify=function(){var b=(new this.constructor(this.s.replace(/[^\w\s-]/g,"").toLowerCase())).dasherize().s;return b.charAt(0)==="-"&&(b=b.substr(1)),new this.constructor(b)},j.prototype.startsWith=function(c,d){var e=this.s;return d=f(d),d===a.INSENSITIVE&&(e=e.toUpperCase(),c=c.toUpperCase()),e.lastIndexOf(c,0)===0},j.prototype.stripPunctuation=function(){return new this.constructor(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},j.prototype.surround=function(b){return new this.constructor([b,this.s,b].join(""))},j.prototype.toBoolean=function(){if(typeof this.s=="string"){var b=this.s.toLowerCase();return b==="true"||b==="yes"||b==="on"||b==="1"}return!1},j.prototype.toFloat=function(b){var c=parseFloat(this.s);return b?parseFloat(c.toFixed(b)):c},j.prototype.toInt=function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},j.prototype.toString=function l(){return this.s},j.prototype.trimLeft=function(){var b;return c.trimLeft?b=this.s.trimLeft():b=this.s.replace(/(^\s*)/g,""),new this.constructor(b)},j.prototype.trimRight=function(){var b;return c.trimRight?b=this.s.trimRight():b=this.s.replace(/\s+$/,""),new this.constructor(b)},j.prototype.truncate=function(b,c){var d=this.s;b=~~b,c=typeof c=="string"||c instanceof j?c:"...";if(d.length<=b)return new this.constructor(d);var e=function(a){return a.toUpperCase()!==a.toLowerCase()?"A":" "},f=d.slice(0,b+1).replace(/.(?=\W*\w*$)/g,e);return f.slice(f.length-2).match(/\w\w/)?f=f.replace(/\s*\S+$/,""):f=(new this.constructor(f.slice(0,f.length-1))).trimRight().s,(f+c).length>d.length?new this.constructor(d):new this.constructor(d.slice(0,f.length)+c)},j.prototype.valueOf=function m(){return this.s.valueOf()},j.prototype.words=function(b){return this.isEmpty()?[]:this.trim().split(b||/\s+/)},j.prototype.wrap=function(b,c){return new this.constructor([b,this.s,c].join(""))},e(),j.prototype.constructor=j,d={},d.CASE=a,d.make=b,d})